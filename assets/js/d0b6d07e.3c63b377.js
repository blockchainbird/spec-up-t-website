"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4676],{11316:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"developer-documentation/local-test-environment","title":"Local test environment","description":"What is npm link?","source":"@site/docs/developer-documentation/local-test-environment.md","sourceDirName":"developer-documentation","slug":"/developer-documentation/local-test-environment","permalink":"/spec-up-t-website/docs/developer-documentation/local-test-environment","draft":false,"unlisted":false,"editUrl":"https://github.com/blockchainbird/spec-up-t-website/tree/main/docs/developer-documentation/local-test-environment.md","tags":[],"version":"current","lastUpdatedAt":1751043160000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Web of Repo\'s","permalink":"/spec-up-t-website/docs/developer-documentation/web-of-repos"},"next":{"title":"Specref.org","permalink":"/spec-up-t-website/docs/category/specreforg"}}');var l=s(74848),a=s(28453);const o={sidebar_position:4},t="Local test environment",c={},r=[{value:"What is <code>npm link</code>?",id:"what-is-npm-link",level:2},{value:"How it Works",id:"how-it-works",level:2},{value:"How to test if the package is linked",id:"how-to-test-if-the-package-is-linked",level:2},{value:"Example",id:"example",level:2},{value:"Tips",id:"tips",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"local-test-environment",children:"Local test environment"})}),"\n",(0,l.jsxs)(n.h2,{id:"what-is-npm-link",children:["What is ",(0,l.jsx)(n.code,{children:"npm link"}),"?"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"npm link"})," is a command that allows you to symlink a local npm package to your project, making it easy to test changes to the package without publishing it to the npm registry."]}),"\n",(0,l.jsx)(n.h2,{id:"how-it-works",children:"How it Works"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Navigate to Your Package Directory"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Go to the folder of the npm package you're developing:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd /path/to/your-package\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Run npm link"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"In the package directory, run:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm link\n"})}),"\n",(0,l.jsxs)(n.p,{children:["This creates a global symlink to your package in your system's npm global directory (e.g., ",(0,l.jsx)(n.code,{children:"~/.nvm/versions/node/<version>/lib/node_modules"}),"). The symlink is named after the ",(0,l.jsx)(n.code,{children:"name"})," field in your package's ",(0,l.jsx)(n.code,{children:"package.json"}),"."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Link the Package to Your Project"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Go to the project where you want to test the package:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd /path/to/your-project\n"})}),"\n",(0,l.jsx)(n.p,{children:"Then run:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm link <package-name>\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Replace ",(0,l.jsx)(n.code,{children:"<package-name>"})," with the name of your package (as defined in its ",(0,l.jsx)(n.code,{children:"package.json"}),"). This creates a symlink in your project's ",(0,l.jsx)(n.code,{children:"node_modules"})," folder pointing to the global symlink."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Test Your Package"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Now, your project uses the local version of the package. Any changes you make to the package's source code are immediately reflected in your project (no need to reinstall)."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Unlink When Done"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"To remove the link from your project:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm unlink <package-name>\n"})}),"\n",(0,l.jsx)(n.p,{children:"To remove the global symlink:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd /path/to/your-package\nnpm unlink\n"})}),"\n",(0,l.jsx)(n.h2,{id:"how-to-test-if-the-package-is-linked",children:"How to test if the package is linked"}),"\n",(0,l.jsx)(n.p,{children:"From the consuming project, run:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"readlink node_modules/<package-name>\n"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["If it returns a path (e.g., ",(0,l.jsx)(n.code,{children:"/path/to/your-package"}),"), the link is active."]}),"\n",(0,l.jsx)(n.li,{children:"If it returns nothing or an error, it\u2019s not linked."}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"or"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm list <package-name>\n"})}),"\n",(0,l.jsx)(n.p,{children:"If it\u2019s linked, the output might show a path like:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"my-awesome-lib@1.0.0 -> /path/to/your-package\n"})}),"\n",(0,l.jsx)(n.p,{children:"To check if the package is globally linked:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm list -g <package-name>\n"})}),"\n",(0,l.jsx)(n.p,{children:"Look for a -> pointing to your package\u2019s local path."}),"\n",(0,l.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Package folder: ",(0,l.jsx)(n.code,{children:"my-awesome-lib"})," (with ",(0,l.jsx)(n.code,{children:'"name"'}),": ",(0,l.jsx)(n.code,{children:'"my-awesome-lib"'})," in ",(0,l.jsx)(n.code,{children:"package.json"}),")"]}),"\n",(0,l.jsx)(n.li,{children:"Project folder: my-app"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Steps:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd my-awesome-lib\nnpm link\ncd ../my-app\nnpm link my-awesome-lib\n"})}),"\n",(0,l.jsx)(n.p,{children:"Now my-app uses the local my-awesome-lib. Edit files in my-awesome-lib, and my-app will see the updates."}),"\n",(0,l.jsx)(n.h2,{id:"tips",children:"Tips"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"If your package has dependencies, run npm install in the package folder first."}),"\n",(0,l.jsx)(n.li,{children:"Use npm link --force if you encounter issues re-linking."}),"\n",(0,l.jsxs)(n.li,{children:["For TypeScript or other compiled packages, ensure you rebuild the package after changes (e.g., ",(0,l.jsx)(n.code,{children:"npm run build"}),")."]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["That\u2019s it! ",(0,l.jsx)(n.code,{children:"npm link"})," is a handy tool for local package development and testing."]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Finding where links are created"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# See global packages\nnpm list -g --depth=0\n\n# See where global modules are stored\nnpm root -g\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var i=s(96540);const l={},a=i.createContext(l);function o(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);