"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1081],{7433:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"developer-documentation/back-end/publishing-to-github-and-npm","title":"Publishing to GitHub and NPM","description":"The suggested way to publish to GitHub and NPM will be described here.","source":"@site/docs/developer-documentation/back-end/publishing-to-github-and-npm.md","sourceDirName":"developer-documentation/back-end","slug":"/developer-documentation/back-end/publishing-to-github-and-npm","permalink":"/spec-up-t-website/docs/developer-documentation/back-end/publishing-to-github-and-npm","draft":false,"unlisted":false,"editUrl":"https://github.com/blockchainbird/spec-up-t-website/tree/main/docs/developer-documentation/back-end/publishing-to-github-and-npm.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"GitHub API response","permalink":"/spec-up-t-website/docs/developer-documentation/back-end/github-api-response"},"next":{"title":"Code Overview","permalink":"/spec-up-t-website/docs/category/code-overview"}}');var i=t(4848),a=t(8453);const o={sidebar_position:2},r="Publishing to GitHub and NPM",c={},h=[{value:"Add changes to Git",id:"add-changes-to-git",level:2},{value:"Publish to NPM",id:"publish-to-npm",level:2},{value:"Update version numbers",id:"update-version-numbers",level:3},{value:"Push changes",id:"push-changes",level:3},{value:"Publish to NPM",id:"publish-to-npm-1",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"publishing-to-github-and-npm",children:"Publishing to GitHub and NPM"})}),"\n",(0,i.jsx)(n.p,{children:"The suggested way to publish to GitHub and NPM will be described here."}),"\n",(0,i.jsx)(n.h2,{id:"add-changes-to-git",children:"Add changes to Git"}),"\n",(0,i.jsx)(n.p,{children:"Make your changes and commit them:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'git add .\ngit commit -m "Add new feature"\n'})}),"\n",(0,i.jsx)(n.p,{children:"::: info\nMerging branches is not described here.It's generally best to run npm version after merging your feature branch into the main (or master) branch. This ensures that the version bump and tag are applied to the final state of the code that will be released.\n:::"}),"\n",(0,i.jsx)(n.h2,{id:"publish-to-npm",children:"Publish to NPM"}),"\n",(0,i.jsx)(n.h3,{id:"update-version-numbers",children:"Update version numbers"}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:"It's easy to forget to update the version nummer in different locations. Please read carefully what is written below."})}),"\n",(0,i.jsxs)(n.p,{children:["Update the version number in four locations in three",(0,i.jsx)(n.code,{children:"package.json"}),"'s. The idea is to keep the version numbers of all repos the same. If you publish an update to NPM you have to raise the version number in four places:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/trustoverip/spec-up-t-starter-pack/blob/main/spec-up-t-boilerplate/package.json#L3",children:"https://github.com/trustoverip/spec-up-t-starter-pack/blob/main/spec-up-t-boilerplate/package.json#L3"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/trustoverip/spec-up-t-starter-pack/blob/main/spec-up-t-boilerplate/package.json#L8",children:"https://github.com/trustoverip/spec-up-t-starter-pack/blob/main/spec-up-t-boilerplate/package.json#L8"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/trustoverip/spec-up-t-starter-pack/blob/main/package.json#L3",children:"https://github.com/trustoverip/spec-up-t-starter-pack/blob/main/package.json#L3"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://github.com/trustoverip/spec-up-t/blob/master/package.json#L3",children:"https://github.com/trustoverip/spec-up-t/blob/master/package.json#L3"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"add 1: do this manually, if the current version is 1.0.87, make it 1.0.88"}),"\n",(0,i.jsx)(n.p,{children:"add 2: do this manually, if the current version is 1.0.87, make it 1.0.88"}),"\n",(0,i.jsx)(n.p,{children:"Now commit this file with message: \u201cBump version to 1.0.88\u201d"}),"\n",(0,i.jsx)(n.p,{children:"add 3 & 4: Use this command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'npm version <newversion> -m "Bump version to %s"\n'})}),"\n",(0,i.jsx)(n.p,{children:"In this case that would be:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'npm version 1.0.88 -m "Bump version to %s"\n'})}),"\n",(0,i.jsx)(n.p,{children:"The % s in the npm version command is a placeholder that gets replaced with the new version number.When you run the command, npm automatically substitutes % s with the version number you specified."}),"\n",(0,i.jsx)(n.p,{children:"npm automatically creates a new Git tag that matches the new version number you specified."}),"\n",(0,i.jsx)(n.h3,{id:"push-changes",children:"Push changes"}),"\n",(0,i.jsx)(n.p,{children:"Push the changes and the tag to the remote repository:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"git push origin main --tags\n"})}),"\n",(0,i.jsx)(n.h3,{id:"publish-to-npm-1",children:"Publish to NPM"}),"\n",(0,i.jsx)(n.p,{children:"Publish the new version to npm:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm publish\n"})}),"\n",(0,i.jsx)(n.p,{children:"The new package will be available as soon as it is uploaded."})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var s=t(6540);const i={},a=s.createContext(i);function o(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);